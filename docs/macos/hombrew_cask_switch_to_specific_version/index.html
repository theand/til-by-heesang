<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>brew cask로 설치한 프로그램의 구 버전을 다시 설치하기 - Heesang's TIL</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "brew cask\ub85c \uc124\uce58\ud55c \ud504\ub85c\uadf8\ub7a8\uc758 \uad6c \ubc84\uc804\uc744 \ub2e4\uc2dc \uc124\uce58\ud558\uae30";
    var mkdocs_page_input_path = "macos/hombrew_cask_switch_to_specific_version.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Heesang's TIL</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Heesang's TIL</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>brew cask로 설치한 프로그램의 구 버전을 다시 설치하기</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="brew-cask">brew cask로 설치한 프로그램의 구 버전을 다시 설치하기</h1>
<h2 id="_1">상황</h2>
<p>GUI 프로그램들도 왠만하면 brew cask로 설치하고 업그레이드를 관리하는데, 이번에 SourceTree 를 <code>brew cask upgrade</code> 로 업그레이드했더니 macos 버전이 10.13 이상이 아니라고 실행이 안되는 사태가 생김. 10.12 에서 잘 돌아가던 이전 버전으로 어떻게 돌아가야하나.</p>
<p>특이사항</p>
<ul>
<li>이전 버전이 그냥 남아있었으면 심볼릭링크를 직접 건드려서 어떻게 처리할 수 있었을텐데, 습관적으로 <code>brew upgrade</code>, <code>brew cask upgrade</code> 를 한 다음에는 <code>brew cleanup</code> 으로 불필요 파일을 제거하는 습관이 있어서 기존 버전은 이미 정리된 상태라 기존 버전으로 재설치할 방법이 필요했음.</li>
<li>그냥 홈페이지에서 이전 버전 다운로드 받으면 가장 짧은 시간내에 해결가능하지만, 가능하면 brew cask로 계속 관리하고 싶었기 때문에 cask 안에서 해결해보기로 함.</li>
<li><a href="https://blog.sourcetreeapp.com/">sourcetree 블로그</a> 에는 macos 지원 버전에 대한 특별한 언급이 없음.</li>
</ul>
<h2 id="_2">경과</h2>
<ul>
<li>
<p>brew로 설치한 터미널 유틸리티는 <code>brew switch formula version</code> 으로 이전 버전을 활성화할 수 있는데( <a href="https://docs.brew.sh/Tips-N'-Tricks">참고</a>) ),  cask 에서는 지원되지 않는 커맨드로 보임.</p>
</li>
<li>
<p>기본적인 흐름은 <a href="https://devforgalaxy.github.io/en/2016/11/05/use-homebrew-cask-to-downgrad-or-install-en.html">Use Homebrew Cask to downgrade or install specific version of package</a>를 따라 Cask file 을 직접 수정하면 됨.</p>
</li>
<li>
<p>Cask file 수정하기 : <code>brew cask edit sourcetree</code></p>
</li>
<li>내용은 대략 <a href="https://github.com/Homebrew/homebrew-cask/blob/master/Casks/sourcetree.rb">이런 모양</a>이고 <code>version</code>, <code>sha256</code> 을 기존 정보로 대치하면 됨.</li>
<li><a href="https://github.com/Homebrew/homebrew-cask/commits/master/Casks/sourcetree.rb">github 에서 커밋 히스토리</a>를 보려고 했으나 커밋히스토리가 너무 길어서 로딩 실패.</li>
<li>콘솔에서 직접 찾아야함.
  <code>cd /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask
  git log master -- Casks/sourcetree.rb</code></li>
<li>이전 버전의 커밋 아이디를 확인함. <code>0de7223a346dac65c804c2c43357cf6ca1d1ccd6</code></li>
<li>터미널에서 커맨드로 커밋 정보 보는게 생각나지 않아서 <a href="https://github.com/Homebrew/homebrew-cask/commit/0de7223a346dac65c804c2c43357cf6ca1d1ccd6">깃헙에서 커밋 아이디로 들어감</a></li>
<li><code>2.7.6a</code> 의 정보를 확인하여 아까 열어둔 cask file 에 입력.</li>
<li><code>brew cask intall sourcetree</code> 실패  : <code>version</code>, <code>sha256</code> 키의 값만 바꾸었는데, 2.x와 3.x 사이에 <a href="https://github.com/Homebrew/homebrew-cask/commit/76362053c76649cd5b9271e35347c0732e651a24">url 패턴이 바뀌어서</a> 파일을 다운로드 받지 못한 것으로 <code>url</code> 키의 값도 2.x에 맞게 바꿔줌.</li>
<li><code>brew cask uninstall --force sourcetree; brew cask install sourcetree</code> : 이전 버전 찌꺼기들도 제거하고 재설치하도록 했고 완료.</li>
</ul>
<h2 id="_3">요약</h2>
<ul>
<li><code>brew cask edit formula</code> 으로 Cask file 편집 모드로 들어가서 <code>version</code>, <code>sha256</code>, <code>url</code> 정보를 기존 내용으로 바꿔주고 <code>brew cask install formula</code> 하면 됨.</li>
<li>기존 정보를 확인하려면 웹에서는 잘 안되므로 터미널에서 git log를 봐야함.</li>
</ul>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
