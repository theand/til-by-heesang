[TOC]



# 인텔리제이에 세팅한 스프링 프로젝트에서 톰캣을 실행할때 적용되는 기본 설정 찾아 수정하기

## 문제 상황

작업하는 프로젝트의 거의 접근 안하던 경로 중 하나를 접근하려는데 404가 계속 뜸. 뒤져보니 톰캣 설정 어딘가에서 `/manager` 경로를 선점하고 있었고, 톰캣으로 스프링 어플리케이션을 실행하면 스프링 컨트롤러가 어떻게 설정되든지 간에 톰캣 전역 설정의 저 경로가 우선권을 갖는 것으로 보였다. 인텔리제이에서 실행되는 톰캣은 기본 설정을 어디에서 가져오는가? 그리고 어떻게 수정해야 하는가?

## 경과

젯브레인 사이트의 문서에서 명확한 설명을 찾는데에는 실패했다. 기존에 알던 정보와 구글+SO에서 얻은 정보를 조합해 아래와 같이 해결했다.

- 톰캣 경로에 대한 환경 변수 : `$CATALINA_HOME`
- 실제 경로 : ` /usr/local/opt/tomcat@8/libexec`
- 인텔리제이에서 실행한 톰캣 인스턴스가 위치한 경로 : `~/Library/Caches/IntelliJIdea2018.3/tomcat`
- CATALINA_HOME이나 인텔리제이 톰캣 경로에서 `ag manager` 으로 검색했으나 적당한 흔적이 보이지 않음.
- `tree` 명령어로 두 경로의 하위 목록을 살펴보니 `webapps/manager` 라는 서브 디렉토리가 있었다.
- 인텔리제이는 `$CATALINA_HOME` 에서 톰캣 기본 설정을 그때 그때 참고해 생성한다고 함.
- `$CATALINA_HOME/webapps/manager` 를 삭제하고, 인텔리제이 톰캣 경로도 제거하고, 프로젝트를 재실행하니 문제 해결.
